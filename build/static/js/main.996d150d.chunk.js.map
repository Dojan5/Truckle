{"version":3,"sources":["functions/calculations.ts","App.js","reportWebVitals.js","localisation/i18n.ts","index.tsx"],"names":["BearingClass","grossWeightTable","_grossWeightTable","roadLoadTable","_roadLoadTable","calculateBearingClass","frontAxleOverride","backAxleOverride","frontAxleTableKey","backAxleTableKey","grossWeightTableKey","bClass","bk","frontAxleTableValue","getLoadWeightValue","backAxleTableValue","grossWeightTableValue","convertToKilo","vehicleWeightAllowanceSum","value","key","App","useTranslation","t","useState","serviceWeight","setServiceWeight","setFrontAxleOverride","setBackAxleOverride","rlTable","singleAxleNoPower","frontAxle","setFrontAxle","backAxle","setBackAxle","gwTable","grossWeight","setGrossWeight","displayKilos","setDisplayKilos","result","setResult","className","type","name","onChange","evt","parseFloat","target","Object","keys","map","r","i","onClick","checked","frontAxleOverrideInKg","backAxleOverrideInKg","BK1","BK2","BK3","BK4","calculateTS","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","i18n","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","detection","order","caches","interpolation","escapeValue","ReactDOM","render","StrictMode","fallback","document","getElementById"],"mappings":"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","file":"static/js/main.996d150d.chunk.js","sourcesContent":["import _grossWeightTable from '../data/grossWeightTable.json';\r\nimport _roadLoadTable from '../data/roadLoadTable.json';\r\n\r\nconst grossWeightTable = _grossWeightTable as DataTable;\r\nconst roadLoadTable = _roadLoadTable as DataTable;\r\n\r\nenum BearingClass {\r\n    BK1 = 0,\r\n    BK2 = 1,\r\n    BK3 = 2,\r\n    BK4 = 3\r\n}\r\n\r\ntype CalculationResult = [\r\n    BK1: number,\r\n    BK2: number,\r\n    BK3: number,\r\n    BK4: number\r\n];\r\n\r\ninterface DataTable {\r\n    [key: string]: number[]\r\n}\r\n\r\nexport function calculate(\r\n    frontAxleOverride: number,\r\n    backAxleOverride: number,\r\n    frontAxleTableKey: string,\r\n    backAxleTableKey: string,\r\n    grossWeightTableKey: string\r\n): CalculationResult {\r\n    let frontAxleOverrideInKg: number = convertToKilo(frontAxleOverride);\r\n    let backAxleOverrideInKg: number = convertToKilo(backAxleOverride);\r\n\r\n    //Calculate\r\n    let bk1 = calculateBearingClass(frontAxleOverrideInKg, backAxleOverrideInKg, frontAxleTableKey, backAxleTableKey, grossWeightTableKey, BearingClass.BK1);\r\n    let bk2 = calculateBearingClass(frontAxleOverrideInKg, backAxleOverrideInKg, frontAxleTableKey, backAxleTableKey, grossWeightTableKey, BearingClass.BK2);\r\n    let bk3 = calculateBearingClass(frontAxleOverrideInKg, backAxleOverrideInKg, frontAxleTableKey, backAxleTableKey, grossWeightTableKey, BearingClass.BK3);\r\n    let bk4 = calculateBearingClass(frontAxleOverrideInKg, backAxleOverrideInKg, frontAxleTableKey, backAxleTableKey, grossWeightTableKey, BearingClass.BK4);\r\n\r\n    let result = [bk1, bk2, bk3, bk4] as CalculationResult;\r\n    return result;\r\n}\r\n\r\nfunction calculateBearingClass(\r\n    frontAxleOverride: number,\r\n    backAxleOverride: number,\r\n    frontAxleTableKey: string,\r\n    backAxleTableKey: string,\r\n    grossWeightTableKey: string,\r\n    bClass: BearingClass\r\n): number {\r\n\r\n    let frontAxleTableValue = getLoadWeightValue(frontAxleTableKey, bClass);\r\n    let backAxleTableValue = getLoadWeightValue(backAxleTableKey, bClass);\r\n    let grossWeightTableValue = getGrossWeightValue(grossWeightTableKey, bClass);\r\n\r\n    let frontAxleWeightAllowance = (frontAxleOverride <= frontAxleTableValue)\r\n        ? frontAxleOverride\r\n        : frontAxleTableValue;\r\n\r\n    let backAxleWeightAllowance = (backAxleOverride <= backAxleTableValue)\r\n        ? backAxleOverride\r\n        : backAxleTableValue;\r\n    \r\n    let vehicleWeightAllowanceSum = frontAxleWeightAllowance + backAxleWeightAllowance;\r\n\r\n    let grossWeightAllowance = (vehicleWeightAllowanceSum <= grossWeightTableValue)\r\n        ? vehicleWeightAllowanceSum\r\n        : grossWeightTableValue;\r\n\r\n    return grossWeightAllowance;\r\n}\r\n\r\nexport function convertToTonnes(value: number): number {\r\n    return (value > 1000) ? (value / 1000) : value;\r\n}\r\n\r\nexport function convertToKilo(value: number): number {\r\n    return (value < 1000) ? (value * 1000) : value;\r\n}\r\n\r\nfunction getGrossWeightValue(key: string, bk: BearingClass): number {\r\n    let tableValue = grossWeightTable[key]\r\n    let value = convertToKilo(tableValue[bk]);\r\n    return value;\r\n}\r\n\r\nfunction getLoadWeightValue(key: string, bk: BearingClass): number {\r\n    let tableValue = roadLoadTable[key];\r\n    let value = convertToKilo(tableValue[bk]);\r\n    return value;\r\n}","import \"./App.scss\";\nimport gwTable from \"./data/grossWeightTable.json\";\nimport rlTable from \"./data/roadLoadTable.json\";\nimport React, { useState } from \"react\";\nimport { calculate as calculateTS } from \"./functions/calculations.ts\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction App() {\n  const [t, i18n] = useTranslation();\n  const [serviceWeight, setServiceWeight] = useState(12000);\n  const [frontAxleOverride, setFrontAxleOverride] = useState(0);\n  const [backAxleOverride, setBackAxleOverride] = useState(0);\n  const [frontAxle, setFrontAxle] = useState(rlTable.singleAxleNoPower);\n  const [backAxle, setBackAxle] = useState(rlTable.singleAxleNoPower);\n  const [grossWeight, setGrossWeight] = useState(gwTable[0]);\n  const [displayKilos, setDisplayKilos] = useState(true);\n\n  const [result, setResult] = useState([0, 0, 0, 0]);\n\n  const handleServiceWeightChange = (evt) => {\n    let value = parseFloat(evt.target.value);\n    setServiceWeight(value);\n  };\n\n  const handleFrontOverrideChange = (evt) => {\n    let value = parseFloat(evt.target.value);\n    setFrontAxleOverride(value);\n  };\n\n  const handleBackOverrideChange = (evt) => {\n    let value = parseFloat(evt.target.value);\n    setBackAxleOverride(value);\n  };\n\n  const handleFrontAxleChange = (evt) => {\n    setFrontAxle(evt.target.value);\n  };\n\n  const handleBackAxleChange = (evt) => {\n    setBackAxle(evt.target.value);\n  };\n\n  const handleGrossWeightChange = (evt) => {\n    setGrossWeight(evt.target.value);\n  };\n\n  const calculate = (evt) => {\n    if (frontAxle === null) return;\n    if (backAxle === null) return;\n    if (grossWeight === null) return;\n\n    let result = calculateTS(\n      frontAxleOverride,\n      backAxleOverride,\n      frontAxle,\n      backAxle,\n      grossWeight\n    );\n\n    setResult(result);\n  };\n\n  return (\n    <>\n      <div className=\"App\">\n        <fieldset>\n          <legend>{t(\"vehicleSpecification\")}</legend>\n          <div className=\"form-control\">\n            <label>{t(\"vehicleWeight\")}</label>\n            <input\n              type=\"number\"\n              name=\"weight\"\n              value={serviceWeight}\n              onChange={handleServiceWeightChange}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label>{t(\"frontAxleOverride\")}</label>\n            <input\n              type=\"number\"\n              value={frontAxleOverride}\n              onChange={handleFrontOverrideChange}\n            />\n          </div>\n          <div className=\"form-control\">\n            <label>{t(\"backAxleOverride\")}</label>\n            <input\n              type=\"number\"\n              value={backAxleOverride}\n              onChange={handleBackOverrideChange}\n            />\n          </div>\n        </fieldset>\n        <fieldset>\n          <legend>{t(\"tableSettings\")}</legend>\n          <div className=\"form-control\">\n            <label>{t(\"frontAxle\")}</label>\n            <select name=\"frontAxle\" onChange={handleFrontAxleChange}>\n              <option value={null}>{t(\"interface.pleaseSelect\")}</option>\n              {Object.keys(rlTable).map((key) => (\n                <option value={key}>{key}</option>\n              ))}\n            </select>\n          </div>\n          <div className=\"form-control\">\n            <label>{t(\"backAxle\")}</label>\n            <select name=\"backAxle\" onChange={handleBackAxleChange}>\n              <option value={null}>{t(\"interface.pleaseSelect\")}</option>\n              {Object.keys(rlTable).map((key) => (\n                <option value={key}>{key}</option>\n              ))}\n            </select>\n          </div>\n          <div className=\"form-control\">\n            <label>{t(\"weightTable\")}</label>\n            <select name=\"grossWeight\" onChange={handleGrossWeightChange}>\n              <option value={null}>{t(\"interface.pleaseSelect\")}</option>\n              {Object.keys(gwTable).map((key) => (\n                <option value={key}>{key}</option>\n              ))}\n            </select>\n          </div>\n        </fieldset>\n        <div className=\"result-table\">\n          <table>\n            <thead>\n              <tr>\n                <td className=\"header\">{t(\"class\")}</td>\n                <td className=\"text-center header\">{t(\"weightAllowance\")}</td>\n                <td className=\"text-right header\">{t(\"allowedLoad\")}</td>\n              </tr>\n            </thead>\n            <tbody>\n              {result.map((r, i) => (\n                <tr>\n                  <td className=\"header\">BK{i + 1}</td>\n                  <td className=\"text-center\">\n                    {displayKilos ? (\n                      <span>{r} kg</span>\n                    ) : (\n                      <span>{r / 1000} t</span>\n                    )}\n                  </td>\n                  <td className=\"text-right\">\n                    {displayKilos ? (\n                      <span>{r - serviceWeight} kg</span>\n                    ) : (\n                      <span>{r / 1000 - serviceWeight} t</span>\n                    )}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          <div className=\"unit-toggle\">\n            <label onClick={() => setDisplayKilos(!displayKilos)}>\n              Display in Kilogram\n            </label>\n            <input\n              type=\"checkbox\"\n              checked={displayKilos}\n              onChange={() => setDisplayKilos(!displayKilos)}\n            />\n          </div>\n        </div>\n        <button className=\"btn\" onClick={calculate}>\n          Calculate\n        </button>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import i18n, { InitOptions } from 'i18next';\r\nimport Backend from 'i18next-http-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nconst options: InitOptions = {\r\n    fallbackLng: 'en',\r\n    debug: true,\r\n    detection: {\r\n        order: ['queryString', 'cookie'],\r\n        caches: ['cookie']\r\n    },\r\n    interpolation: {\r\n        escapeValue: false\r\n    }\r\n}\r\n\r\ni18n.use(Backend)\r\n    .use(LanguageDetector)\r\n    .use(initReactI18next)\r\n    .init(options)\r\n\r\nexport default i18n;","import React, { Suspense } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'normalize.css';\nimport reportWebVitals from './reportWebVitals';\nimport './localisation/i18n';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Suspense fallback={<div>Help!</div>}>\n    <App />\n    </Suspense>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}